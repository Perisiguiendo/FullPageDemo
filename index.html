<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/index.css">
  <link rel="stylesheet" href="./css/img.css">
</head>

<body>
  <section id="wrap">
    <!-- 流体布局 -->
    <header id="head">
      <!-- 固定布局 -->
      <div class="headMain">
        <!-- logo -->
        <h1 class="logo">
          <a href="javascript:;">
            <img src="./img/logo.png" alt="logo" />
          </a>
        </h1>
        <nav class="nav">
          <ul class="clearfix" id="list">
            <li>
              <a href="javascript:;">
                <div class="up iconfont">&#xe630;</div>
                <div class="down iconfont">&#xe630;</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">Course</div>
                <div class="down">Course</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">Works</div>
                <div class="down">Works</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">About</div>
                <div class="down">About</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">Team</div>
                <div class="down">Team</div>
              </a>
            </li>
          </ul>
        </nav>
        <div class="arrow"></div>
        <div>
          <audio src="./img/audio.mp3" loop></audio>
          <div class="music"></div>
        </div>
      </div>
    </header>
    <main id="content">
      <ul class="page-list">
        <li class="home page">
          <section>
            <ul class="carousel">
              <li class="active">
                <div class="item commonTitle">one</div>
              </li>
              <li>
                <div class="item commonTitle">two</div>
              </li>
              <li>
                <div class="item commonTitle">three</div>
              </li>
              <li>
                <div class="item commonTitle">four</div>
              </li>
            </ul>
            <ul class="btn-click">
              <li></li>
              <li></li>
              <li></li>
              <li></li>
            </ul>
          </section>
        </li>
        <li class="course page">
          <section>
            <header class="commonTitle">
              <span>EINIGE</span><br />
              <span>URSERE</span><br />
              <span>KUNDEN</span><br />
            </header>
            <div class="ct commonText">
              <p>Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit,
                gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann. </p>
              <p>Diese und viele weitere große und kleine Kunden vertrauen uns seit Jahren, was uns stolz macht, und
                dafür sagen wir an dieser Stelle einfach mal.</p>
            </div>
            <div class="picWall">
              <span class="line"></span>
              <span class="line"></span>
              <span class="line"></span>
              <span class="line"></span>
              <span class="line"></span>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">TATA</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">AIRBERLIN</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">BKS</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">G-U</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">HIX</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">APCOA</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">LEONIBERG</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">PCWELT</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">TATA</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">BKS</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">HLX</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">AIRBERLIN</div>
              </div>
            </div>
            <div class="plane1"></div>
            <div class="plane2"></div>
            <div class="plane3"></div>
          </section>
        </li>
        <li class="works page">
          <section>
            <header class="commonTitle">
              <span>EINBLICK</span><br />
              <span>ERKENNTNIS</span><br />
              <span>ERGEBNIS</span><br />
            </header>
            <ul class="list">
              <li class="item">
                <img src="./img/worksimg1.jpg" alt="worksimg1">
                <div class="mask">
                  <span>Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen
                    Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>
              <li class="item">
                <img src="./img/worksimg2.jpg" alt="worksimg2">
                <div class="mask">
                  <span>Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch
                    das größte Lob, das man uns entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>
              <li class="item">
                <img src="./img/worksimg3.jpg" alt="worksimg3">
                <div class="mask">
                  <span>Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns
                    entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>
              <li class="item">
                <img src="./img/worksimg4.jpg" alt="worksimg4">
                <div class="mask">
                  <span>Gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>

            </ul>
            <div class="robot"></div>
            <div class="pencil1"></div>
            <div class="pencil2"></div>
            <div class="pencil3"></div>
          </section>
        </li>
        <li class="about page">
          <section>
            <header class="commonTitle">
              <span>DIE</span><br />
              <span>SPEZIELLE</span><br />
              <span>VIELFALT</span><br />
            </header>
            <p class="commonText">Der bunte Medienmix ist die Faszination die uns antreibt und das, was man an uns
              schätzt. Von A bis Z und von vorne bis hinten nehmen wir Ihr Projekt unter unsere Fittiche und lassen es
              zu etwas Großartigem heranwachsen.
            </p>
            <div class="pic-line">
              <div class="item pic-line1">
                <ul>
                  <li>
                    <div></div>
                  </li>
                  <li>
                    <div></div>
                  </li>
                  <li>
                    <div></div>
                  </li>
                  <li>
                    <div></div>
                  </li>
                </ul>
                <span></span>
              </div>
              <div class="item pic-line2">
                <ul>
                  <li>
                    <div></div>
                  </li>
                  <li>
                    <div></div>
                  </li>
                  <li>
                    <div></div>
                  </li>
                  <li>
                    <div></div>
                  </li>
                </ul>
                <span></span>
              </div>
            </div>
          </section>
        </li>
        <li class="team page">
          <section>
            <header class="clearfix">
              <div class="commonTitle team1">
                <span>WIR SIND</span><br />
                <span>VOXELAIR</span><br />
              </div>
              <div class="commonText team2">
                <p>
                  Wir sind seit 2002 eine Full-Service-Werbeagentur mit Stammsitz in Heimsheim, zwischen Stuttgart und
                  Karlsruhe.
                </p>
                <p>
                  Über 60 Jahre Erfahrung vereinen das gesamte VoxelAir-Team. Dabei hat jedes Voxel neben
                  professionellem
                  Allroundwissen auch sein ganz spezielles Gebiet, um selbst die individuellsten Kundenwünsche schnell
                  und
                  kompetent umzusetzen.
                </p>
              </div>
            </header>
            <div class="wrap">
              <ul class="persons">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </section>
        </li>
      </ul>
      <ul class="dot">
        <li class="active"></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </main>
  </section>

</body>
<script>
  window.onload = function () {
    const oArrowEl = document.getElementsByClassName('arrow')[0];
    const oliNodes = document.getElementById('list').getElementsByTagName('li'); // 导航栏的li
    const oUpNodes = document.getElementById('list').getElementsByClassName('up');
    const firstLiNode = oliNodes[0];
    const firstUpLiNode = firstLiNode.getElementsByClassName('up')[0];
    let lastIndex = 0; // 记录上次点击的索引
    const oHeadNode = document.getElementById('head');
    const oContentNode = document.getElementById('content');
    const ocLiNodes = document.getElementsByClassName('page');
    const ocListNode = oContentNode.getElementsByClassName('page-list')[0];
    let timer = null;
    let dots = document.getElementsByClassName('dot')[0].getElementsByTagName('li');

    let anArr = [{
      // 首页轮播图第一张图的显示和隐藏
      inAn: function () {
        let btn_Clicks = document.getElementsByClassName('btn-click')[0];
        let ul_carousel = document.getElementsByClassName('carousel')[0];

        ul_carousel.style.opacity = 1;
        btn_Clicks.style.opacity = 1;
        ul_carousel.style.transform = "translateY(0px)";
        btn_Clicks.style.transform = "translateY(0px)";

      },
      outAn: function () {
        let btn_Clicks = document.getElementsByClassName('btn-click')[0];
        let ul_carousel = document.getElementsByClassName('carousel')[0];

        ul_carousel.style.opacity = 0;
        btn_Clicks.style.opacity = 0;
        ul_carousel.style.transform = "translateY(-480px)";
        btn_Clicks.style.transform = "translateY(100px)";
      }
    }, {
      // 第二屏飞机的移动
      inAn: function () {
        let plane1 = document.getElementsByClassName('plane1')[0];
        let plane2 = document.getElementsByClassName('plane2')[0];
        let plane3 = document.getElementsByClassName('plane3')[0];
        plane1.style.transform = "translate(0px, 0px)";
        plane2.style.transform = "translate(0px, 0px)";
        plane3.style.transform = "translate(0px, 0px)";
      },
      outAn: function () {
        let plane1 = document.getElementsByClassName('plane1')[0];
        let plane2 = document.getElementsByClassName('plane2')[0];
        let plane3 = document.getElementsByClassName('plane3')[0];
        plane1.style.transform = "translate(-200px, -200px)";
        plane2.style.transform = "translate(-200px, 200px)";
        plane3.style.transform = "translate(200px, -200px)";
      }
    }, {
      // 第三屏铅笔的移动
      inAn: function () {
        let pencil1 = document.getElementsByClassName('pencil1')[0];
        let pencil2 = document.getElementsByClassName('pencil2')[0];
        let pencil3 = document.getElementsByClassName('pencil3')[0];

        pencil1.style.transform = "translateY(0px)";
        pencil2.style.transform = "translateY(0px)";
        pencil3.style.transform = "translateY(0px)";
      },
      outAn: function () {
        let pencil1 = document.getElementsByClassName('pencil1')[0];
        let pencil2 = document.getElementsByClassName('pencil2')[0];
        let pencil3 = document.getElementsByClassName('pencil3')[0];

        pencil1.style.transform = "translateY(-100px)";
        pencil2.style.transform = "translateY(100px)";
        pencil3.style.transform = "translateY(100px)";
      }
    }, {
      // 第四屏相框的移动
      inAn: function () {
        let pic_line1 = document.getElementsByClassName('pic-line1')[0];
        let pic_line2 = document.getElementsByClassName('pic-line2')[0];

        pic_line1.style.transform = "rotate(0deg)";
        pic_line2.style.transform = "rotate(0deg)";
      },
      outAn: function () {
        let pic_line1 = document.getElementsByClassName('pic-line1')[0];
        let pic_line2 = document.getElementsByClassName('pic-line2')[0];

        pic_line1.style.transform = "rotate(40deg)";
        pic_line2.style.transform = "rotate(-40deg)";
      }
    }, {
      // 第五屏文字的移动
      inAn: function () {
        let team1 = document.getElementsByClassName('team1')[0];
        let team2 = document.getElementsByClassName('team2')[0];

        team1.style.transform = "translateX(0px)";
        team2.style.transform = "translateX(0px)";
      },
      outAn: function () {
        let team1 = document.getElementsByClassName('team1')[0];
        let team2 = document.getElementsByClassName('team2')[0];

        team1.style.transform = "translateX(-130px)";
        team2.style.transform = "translateX(130px)";
      }
    }]

    // 所有屏的动画处于未开始状态
    for (let i = 1; i < anArr.length; i++) {
      anArr[i].outAn();
    }

    setTimeout(function () {
      anArr[0].inAn();
    }, 1000);

    // 鼠标滚轮事件
    if (oContentNode.addEventListener) {
      oContentNode.addEventListener("DOMMouseScroll", function (e) {
        e = e || event;
        clearInterval(timer);
        timer = setTimeout(function () {
          fn(e);
        }, 200)
      });
    }
    oContentNode.onmousewheel = function (e) {
      e = e || event;
      clearInterval(timer);
      timer = setTimeout(function () {
        fn(e);
      }, 200)
    }

    function fn(e) {
      let now = 0; // 滚轮滚动事件中的索引
      e = e || event;
      let dir = "";
      if (e.wheelDelta) {
        dir = e.wheelDelta > 0 ? "up" : "down";
      } else if (e.detail) {
        dir = e.detail < 0 ? "up" : "down";
      }
      switch (dir) {
        case "up":
          if (lastIndex > 0) {
            dots[lastIndex].classList.remove('active');
            oUpNodes[lastIndex].style.width = "";
            now = lastIndex;
            now--;
            move(now);
            dots[lastIndex].classList.add('active');
            oUpNodes[lastIndex].style.width = "100%";
          }
          break;
        case "down":
          if (lastIndex < ocLiNodes.length - 1) {
            dots[lastIndex].classList.remove('active');
            oUpNodes[lastIndex].style.width = "";
            now = lastIndex;
            now++;
            move(now);
            dots[lastIndex].classList.add('active');
            oUpNodes[lastIndex].style.width = "100%";
          }
          break;
      }
    }

    // 屏幕尺寸改变时箭头和当前屏的位置
    window.onresize = function () {
      contentBind();
      ocListNode.style.top = -lastIndex * (document.documentElement.clientHeight - oHeadNode.offsetHeight) + "px";
      oArrowEl.style.left = oliNodes[lastIndex].offsetLeft + oliNodes[lastIndex].offsetWidth / 2 - oArrowEl
        .offsetWidth / 2 + "px";
    }

    headBind();
    contentBind();

    // 侧栏的按钮点击
    for (let i = 0; i < dots.length; i++) {
      dots[i].onclick = function () {
        dots[lastIndex].classList.remove('active');
        oUpNodes[lastIndex].style.width = "";
        move(i);
        dots[lastIndex].classList.add('active');
        oUpNodes[lastIndex].style.width = "100%";
      }
    }

    // 导航栏的按钮点击
    for (let i = 0; i < oliNodes.length; i++) {
      oliNodes[i].onclick = function () {
        dots[lastIndex].classList.remove('active');
        oUpNodes[lastIndex].style.width = "";
        move(i);
        dots[lastIndex].classList.add('active');
        oUpNodes[lastIndex].style.width = "100%";
      }
    }
    // 移动函数 
    function move(i) {
      if (anArr[lastIndex] && typeof anArr[lastIndex]["inAn"] === "function") {
        anArr[lastIndex]["outAn"]();
      }
      lastIndex = i;
      oArrowEl.style.left = oliNodes[i].offsetLeft + oliNodes[i].offsetWidth / 2 - oArrowEl.offsetWidth / 2 +
        "px";
      ocListNode.style.top = -i * (document.documentElement.clientHeight - oHeadNode.offsetHeight) + "px";
      if (anArr[i] && typeof anArr[i]["inAn"] === "function") {
        anArr[i]["inAn"]();
      }
    }

    function headBind() {
      firstUpLiNode.style.width = "100%";
      oArrowEl.style.left = firstLiNode.offsetLeft + firstLiNode.offsetWidth / 2 - oArrowEl.offsetWidth / 2 + "px";
    }

    function contentBind() {
      oContentNode.style.height = document.documentElement.clientHeight - oHeadNode.offsetHeight + "px";
      for (let i = 0; i < ocLiNodes.length; i++) {
        ocLiNodes[i].style.height = document.documentElement.clientHeight - oHeadNode.offsetHeight + "px";
      }
    }


  }
</script>
<script src="./script/index.js"></script>

</html>